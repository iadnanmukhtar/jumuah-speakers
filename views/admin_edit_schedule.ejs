<section class="max-w-xl mx-auto bg-white rounded-lg shadow-sm border border-emerald-100 p-6 mt-8">
  <h1 class="text-xl font-semibold text-emerald-800 mb-1">Edit Jumuah Schedule</h1>
  <p class="text-sm text-slate-500 mb-4">
    Adjust date, time, topic, notes, and speaker assignment.
  </p>

  <form action="/admin/schedules/<%= schedule.id %>/edit" method="post" class="space-y-4">
    <div class="grid grid-cols-2 gap-3">
      <div>
        <label class="block text-xs font-medium text-slate-700 mb-1">Date</label>
        <input
          type="date"
          name="date"
          value="<%= schedule.date instanceof Date ? schedule.date.toISOString().split('T')[0] : schedule.date %>"
          required
          class="w-full border border-slate-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-600" />
      </div>
      <div>
        <label class="block text-xs font-medium text-slate-700 mb-1">Time</label>
        <input
          type="time"
          name="time"
          value="<%= schedule.time %>"
          required
          class="w-full border border-slate-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-600" />
      </div>
    </div>

    <div>
      <label class="block text-xs font-medium text-slate-700 mb-1">Topic</label>
      <input
        type="text"
        name="topic"
        value="<%= schedule.topic || '' %>"
        class="w-full border border-slate-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-600" />
    </div>

    <div>
      <label class="block text-xs font-medium text-slate-700 mb-1">Notes</label>
      <textarea
        name="notes"
        rows="3"
        class="w-full border border-slate-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-emerald-600"><%= schedule.notes || '' %></textarea>
    </div>

    <div class="grid grid-cols-2 gap-3">
      <div>
        <label class="block text-xs font-medium text-slate-700 mb-1">Status</label>
        <select
          name="status"
          class="w-full border border-slate-300 rounded px-2 py-1.5 text-sm">
          <option value="open" <%= schedule.status === 'open' ? 'selected' : '' %>>Open</option>
          <option value="confirmed" <%= schedule.status === 'confirmed' ? 'selected' : '' %>>Confirmed</option>
        </select>
      </div>
      <div>
        <label class="block text-xs font-medium text-slate-700 mb-1">Speaker</label>
        <select
          name="speaker_id"
          class="w-full border border-slate-300 rounded px-2 py-1.5 text-sm">
          <option value="">Unassigned</option>
          <% speakers.forEach(sp => { %>
            <option value="<%= sp.id %>" <%= schedule.speaker_id === sp.id ? 'selected' : '' %>>
              <%= sp.name %> (<%= sp.phone %>)
            </option>
          <% }) %>
        </select>
      </div>
    </div>

    <div class="flex justify-between mt-4">
      <a
        href="/admin/schedules"
        class="text-xs text-slate-500 hover:text-slate-700">
        Back to all schedules
      </a>
      <button
        type="submit"
        class="px-4 py-1.5 rounded-full bg-emerald-700 text-white text-sm font-weight hover:bg-emerald-800">
        Save changes
      </button>
    </div>
  </form>
</section>
